<!DOCTYPE html>
<html>
    <head>
        <title>Kuluhan's web page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link type="text/css" rel="stylesheet" href="../stylesheets/publications.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Varela&display=swap" rel="stylesheet">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" rel="stylesheet"  type='text/css'>
        <script type="text/javascript" src="../JS/functions.js"></script>
        <link rel="icon" href="../assets/favicon.png">
    </head>
    <body>
        <div class="topnav" id="myTopnav">
            <a href="../index.html">Home</a>
            <a href="HTML/publications.html" class="active">Publications</a>
            <a href="#CV">CV</a>
            <a href="javascript:void(0);" style="font-size:15px;" class="icon" onclick="myFunction()">&#9776;</a>
        </div>

        <div class="header">
            <h2>Publications</h2>
            <hr>
        </div>
        
        <ul class="pub-list" id="csv-list"></ul> 
        <script type="module">
            import myJson from '../DATA/publications.json' assert {type: 'json'};
            window.onload = () => {
                var list = document.getElementById("csv-list");
                list.innerHTML = "";
                if (myJson != null){
                    for(let row of myJson["papers"]){
                        var li = document.createElement("li");
                        var div = document.createElement("div");
                        div.classList.add("publication");
                        var span1 = document.createElement("span");
                        span1.classList.add("li-div-span");
                        span1.innerHTML = "";
                        span1.innerHTML += "<p><b>" + row["title"] + "</b></p>";
                        span1.innerHTML += "<p>" + row["authors"].join(", ") + "</p>";
                        span1.innerHTML += "<p><i>" + row["venue"] + "</i></p>";
                        if (row["link"] != "NA"){
                            var span1Div = document.createElement("div");
                            span1Div.classList.add("link-div");
                            span1Div.innerHTML = "";
                            if (row["code"] != "NA"){
                                span1Div.innerHTML += "<span style=\"margin-right: 10px;\"><i class=\"fab fa-github\"></i><span style=\"margin-left: 5px;\"><a href=\"" + row["code"] + "\">Code</a></span></span>";
                            }
                            span1Div.innerHTML += "<span><i class=\"fas fa-graduation-cap\"></i><span style=\"margin-left: 5px;\"><a href=\"" + row["link"] + "\">Paper</a></span></span>";
                            span1.appendChild(span1Div);
                        }
                        var span2 = document.createElement("span");
                        span2.classList.add("publication-img");
                        span2.style.backgroundImage = "url('" + row["image"] + "')";
                        
                        div.appendChild(span1);
                        div.appendChild(span2);
                        li.appendChild(div);
                        list.appendChild(li);
                    }
                }
            }
        </script>
    </body>
</html>